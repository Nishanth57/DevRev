import requests
import json

api_key = 'eyJhbGciOiJSUzI1NiIsImlzcyI6Imh0dHBzOi8vYXV0aC10b2tlbi5kZXZyZXYuYWkvIiwia2lkIjoic3RzX2tpZF9yc2EiLCJ0eXAiOiJKV1QifQ.eyJhdWQiOlsiamFudXMiXSwiYXpwIjoiZG9uOmlkZW50aXR5OmR2cnYtdXMtMTpkZXZvLzFpMGhGeGp4NDQ6ZGV2dS8xIiwiZXhwIjoxODA3MDg5MjMzLCJodHRwOi8vZGV2cmV2LmFpL2F1dGgwX3VpZCI6ImRvbjppZGVudGl0eTpkdnJ2LXVzLTE6ZGV2by9zdXBlcjphdXRoMF91c2VyL29pZGN8cGFzc3dvcmRsZXNzfGVtYWlsfDY2MTI0NDc1MTdiZTc4OGI2ZjI5ZmFjYyIsImh0dHA6Ly9kZXZyZXYuYWkvYXV0aDBfdXNlcl9pZCI6Im9pZGN8cGFzc3dvcmRsZXNzfGVtYWlsfDY2MTI0NDc1MTdiZTc4OGI2ZjI5ZmFjYyIsImh0dHA6Ly9kZXZyZXYuYWkvZGV2b19kb24iOiJkb246aWRlbnRpdHk6ZHZydi11cy0xOmRldm8vMWkwaEZ4ang0NCIsImh0dHA6Ly9kZXZyZXYuYWkvZGV2b2lkIjoiREVWLTFpMGhGeGp4NDQiLCJodHRwOi8vZGV2cmV2LmFpL2RldnVpZCI6IkRFVlUtMSIsImh0dHA6Ly9kZXZyZXYuYWkvZGlzcGxheW5hbWUiOiI0bm0yMGFpMDI5IiwiaHR0cDovL2RldnJldi5haS9lbWFpbCI6IjRubTIwYWkwMjlAbm1hbWl0LmluIiwiaHR0cDovL2RldnJldi5haS9mdWxsbmFtZSI6IjRubTIwYWkwMjlAbm1hbWl0LmluIiwiaHR0cDovL2RldnJldi5haS9pc192ZXJpZmllZCI6dHJ1ZSwiaHR0cDovL2RldnJldi5haS90b2tlbnR5cGUiOiJ1cm46ZGV2cmV2OnBhcmFtczpvYXV0aDp0b2tlbi10eXBlOnBhdCIsImlhdCI6MTcxMjQ4MTIzMywiaXNzIjoiaHR0cHM6Ly9hdXRoLXRva2VuLmRldnJldi5haS8iLCJqdGkiOiJkb246aWRlbnRpdHk6ZHZydi11cy0xOmRldm8vMWkwaEZ4ang0NDp0b2tlbi8xMFIwdmRsS0YiLCJvcmdfaWQiOiJvcmdfbmxWbWFLU2xHWEdFblpCUSIsInN1YiI6ImRvbjppZGVudGl0eTpkdnJ2LXVzLTE6ZGV2by8xaTBoRnhqeDQ0OmRldnUvMSJ9.m-2GGzrHPgfoTxNqHt17WNoKyLeAB77l7xi0Y1fqh43IgN_ot1gjLTaHZnXMEcIwtxHP3yfV7C_rAYD7y9xGtxImlw5H-Xj5e6u0KVGMYLn1AzMSmtD-iwKuYeFqB8lJFiFAe0qbGP8oWP4eABLM2dgSaNKRZV2Lz49zsg92qSTjrFK8hH4het4TPkikQ2wAALpHUGcU98cJo5DdnvTqjBGm2_T1Q76AZEcDvxw5j7nvihUTGsj6XzUtvj6OSbVdy2_g9V9lk4FLg91WKUfZgofA3Qu8uQ3Wkmc8yLHT6vvAoklgbzrgt8cZNuPiNB3JHIWKAIp2qchMT6K-nlwOjQ'


url = "https://api.devrev.ai/works.create"

headers = {
    "Authorization": api_key,
    "Content-Type": "application/json"
}


payload = {
    "type": "issue",
    "applies_to_part": "FEAT-4", 
    "owned_by": [
        "DEVU-1" 
    ],
    "title": "ttesst" 
}

response = requests.post(url, headers=headers, data=json.dumps(payload))

if response.status_code == 200:
    print("Work item created successfully.")
    print(response.json()) 
else:
    print(f"Failed to create work item. Status code: {response.status_code}")
    print(response.text) 
